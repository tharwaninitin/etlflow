(this["webpackJsonpetlflow-updated"]=this["webpackJsonpetlflow-updated"]||[]).push([[0],{25:function(t,e,n){},47:function(t,e,n){"use strict";n.r(e);var s=n(1),a=n.n(s),r=n(33),i=n.n(r),c=n(4),o=n(5),l=n(14),d=n(7),u=n(6),b=n(3),j=n.n(b),h=n(10),m=(n(15),n(16),n(21),n(25),n(2)),p=(n(17),n(18),n(8)),f=n.n(p),O=n(0),_=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var s;return Object(c.a)(this,n),(s=e.call(this,t)).state={jobs:[],notification:!1,run_job_props:"",job_name:"",errors:[],is_error:!1,is_active:!0},s}return Object(o.a)(n,[{key:"updateJobActiveState",value:function(){var t=Object(h.a)(j.a.mark((function t(e,n){var s,a,r,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/api/etlflow",s=localStorage.getItem("Authorization"),t.next=4,fetch("/api/etlflow",{method:"POST",headers:{content_type:"applcation/json",Authorization:s},body:JSON.stringify({query:'\n            mutation {\n              update_job_state (name:"'.concat(e,'" ,state: ').concat(n,"){\n             }\n           }\n          ")})});case 4:return 403===(a=t.sent).status&&localStorage.removeItem("Authorization"),t.next=8,a.json();case 8:return r=t.sent,i=r.data,t.abrupt("return",i);case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"run_etl_job",value:function(){var t=Object(h.a)(j.a.mark((function t(e,n){var s,a,r,i,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/api/etlflow",s=localStorage.getItem("Authorization"),this.setState((function(t){return{loader:!0}})),t.next=5,fetch("/api/etlflow",{method:"POST",headers:{content_type:"applcation/json",Authorization:s},body:JSON.stringify({query:'\n            mutation {\n              run_job (name:"'.concat(e,'" ,props: { key: "", value: "" }){\n                name\n                props {key value}\n             }\n           }\n          ')})});case 5:return 403===(a=t.sent).status&&localStorage.removeItem("Authorization"),this.setState((function(t){return{loader:!0}})),t.next=10,a.json();case 10:return r=t.sent,i=r.data,c=r.errors,null!==JSON.parse(JSON.stringify(i.run_job))?this.set_job_error_deails(!1):this.set_job_error_deails(!0,JSON.parse(JSON.stringify(c))),t.abrupt("return",i);case 15:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){f()("#joblist").DataTable({order:[[1,"asc"]]})}},{key:"show_modal",value:function(t){var e="";t.map((function(t){return e+="<b>"+t.key+"</b>="+t.value+"<br></br>"})),f()("#jobListeModal .modal-body").html(e),f()("#jobListeModal").modal()}},{key:"set_notification",value:function(t){this.setState((function(e){return{notification:t}}))}},{key:"set_job_deails",value:function(t,e){this.setState((function(n){return{job_name:t,run_job_props:e}}))}},{key:"set_job_error_deails",value:function(t,e){this.setState((function(n){return{is_error:t,errors:e}}))}},{key:"handleOnClick",value:function(t){this.props.history.push("/JobRuns/"+t)}},{key:"render",value:function(){var t=this,e="",n="";return this.state.notification&&(n=this.state.is_error?Object(O.jsxs)("div",{class:"alert alert-danger alert-dismissible fade show",role:"alert",children:[Object(O.jsx)("h4",{class:"alert-heading",children:"Error while submitting job!"}),Object(O.jsx)("p",{children:JSON.parse(JSON.stringify(this.state.errors)).map((function(t){return t.message}))}),Object(O.jsx)("button",{type:"button",class:"close","data-dismiss":"alert","aria-label":"Close",onClick:function(){t.set_notification(!1)},children:Object(O.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}):Object(O.jsxs)("div",{class:"alert alert-success alert-dismissible fade show",role:"alert",children:[Object(O.jsxs)("h4",{class:"alert-heading",children:["Job ",this.state.job_name.replace(/^"(.*)"$/,"$1")," submitted successfully!  "]}),Object(O.jsx)("p",{children:this.state.run_job_props}),Object(O.jsx)("button",{type:"button",class:"close","data-dismiss":"alert","aria-label":"Close",onClick:function(){t.set_notification(!1)},children:Object(O.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})),Object(O.jsxs)("div",{class:"container-fluid",children:[Object(O.jsx)("div",{children:n}),Object(O.jsx)("ul",{class:"pagination justify-content-center",children:Object(O.jsx)("button",{class:"btn btn btn-sm",type:"button ",onClick:function(){t.props.get_etl_jobs()},children:"Refresh"})}),Object(O.jsxs)("table",{id:"joblist",class:"table table-sm table-bordered",children:[Object(O.jsx)("thead",{class:"thead-dark",children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Active/Inactive"}),Object(O.jsx)("th",{children:"Job Name"}),Object(O.jsx)("th",{children:"Schedule"}),Object(O.jsx)("th",{children:"Next Schedule"}),Object(O.jsx)("th",{children:"Schedule Remaining Time"}),Object(O.jsx)("th",{children:"Action"})]})}),Object(O.jsx)("tbody",{children:this.props.jobs.map((function(n){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:t.state.is_active&&n.is_active?Object(O.jsx)("div",{className:"checkbox",children:Object(O.jsx)("input",{type:"checkbox","aria-describedby":"UsernameHelp","data-toggle":"toggle",defaultChecked:!0,onClick:function(e){return t.updateJobActiveState(n.name,!1).then((function(e){e.update_job_state,t.props.get_etl_jobs(),t.setState((function(t){return{is_active:!1}}))}))}})}):Object(O.jsx)("div",{className:"checkbox",children:Object(O.jsx)("input",{type:"checkbox","aria-describedby":"UsernameHelp","data-toggle":"toggle",onClick:function(e){return t.updateJobActiveState(n.name,!0).then((function(e){e.update_job_state,t.props.get_etl_jobs(),t.setState((function(t){return{is_active:!0}}))}))}})})}),Object(O.jsxs)("td",{children:[" ",Object(O.jsx)("button",{type:"button",class:"btn btn-link","data-dismiss":"modal",onClick:function(){return t.handleOnClick(n.name)},children:n.name})]}),Object(O.jsx)("td",{children:n.schedule}),Object(O.jsx)("td",{children:n.nextSchedule}),Object(O.jsx)("td",{children:n.schduleRemainingTime}),Object(O.jsxs)("td",{children:[Object(O.jsx)("button",{type:"button",class:"btn btn-secondary ml-2","data-toggle":"modal",onClick:function(){return t.show_modal(n.props)},children:"Properties"}),Object(O.jsx)("div",{class:"modal fade",id:"jobListeModal",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(O.jsx)("div",{class:"modal-dialog",role:"document",children:Object(O.jsxs)("div",{class:"modal-content",children:[Object(O.jsxs)("div",{class:"modal-header",children:[Object(O.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:"Properties "}),Object(O.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(O.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(O.jsx)("div",{class:"modal-body"}),Object(O.jsx)("div",{class:"modal-footer",children:Object(O.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})}),Object(O.jsx)("input",{type:"button",value:"Run",class:"btn btn-warning ml-2",onClick:function(){t.run_etl_job(n.name).then((function(n){var s=n.run_job;t.set_notification(!0);var a=JSON.parse(JSON.stringify(s));if(null!==a){e=JSON.stringify(a.props);var r=JSON.stringify(a.name);t.set_job_deails(r,e)}}))}})]})]})}))})]})]})}}]),n}(a.a.Component),x=Object(m.f)(_),v=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){return Object(c.a)(this,n),e.call(this,t)}return Object(o.a)(n,[{key:"render",value:function(){return Object(O.jsx)("div",{class:"d-flex justify-content-center",children:Object(O.jsx)("div",{class:"spinner-border m-5",role:"status",children:Object(O.jsx)("span",{class:"sr-only",children:"Loading..."})})})}}]),n}(a.a.Component),y=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var s;return Object(c.a)(this,n),(s=e.call(this,t)).state={stepruns:[],loader:!1},s}return Object(o.a)(n,[{key:"fetchEtlFlowJobById",value:function(){var t=Object(h.a)(j.a.mark((function t(e){var n,s,a,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/api/etlflow",n=localStorage.getItem("Authorization"),this.setState((function(t){return{loader:!0}})),t.next=5,fetch("/api/etlflow",{method:"POST",headers:{content_type:"applcation/json",Authorization:n},body:JSON.stringify({query:'\n          query {\n            stepruns(job_run_id:    "'.concat(e,'"){\n                job_run_id\n                step_name\n                properties\n                state\n                start_time\n                elapsed_time\n                step_type\n                step_run_id\n             }\n           }\n          ')})});case 5:return 403===(s=t.sent).status&&localStorage.removeItem("Authorization"),t.next=9,s.json();case 9:return a=t.sent,r=a.data,this.setState((function(t){return{loader:!1}})),t.abrupt("return",r);case 13:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"setInterval",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){var t=this;this.timerID=setInterval((function(){return t.fetchEtlFlowJobs()}),1e6)}))},{key:"componentDidMount",value:function(){var t=this;this.fetchEtlFlowJobById(this.props.job_run_id).then((function(e){var n=e.stepruns;t.setState((function(t){return{stepruns:n}}))})),this.setInterval()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"show_modal",value:function(t){var e="",n=JSON.parse(t);for(var s in n)e+="<b>"+s+"</b>="+n[s]+"<br></br>",f()("#stepRunModal .modal-body").html(e),f()("#stepRunModal").modal()}},{key:"show_step_run_state_modal",value:function(t){f()("#stepRunStateModal .modal-body").html(t),f()("#stepRunStateModal").modal()}},{key:"render",value:function(){var t=this,e=!1;this.state.stepruns.map((function(t){""!==t.step_run_id&&(e=!0)}));var n="";n=e?Object(O.jsx)("th",{children:"Linked Job"}):"";var s=["EtlFlowJobStep","DPSparkJobStep","ParallelETLStep"];return this.state.loader?Object(O.jsx)("div",{children:Object(O.jsx)(v,{job_run_id:this.job_run_id,set_job_run_state:this.set_job_run_state})}):Object(O.jsx)("div",{className:"container-fluid",children:Object(O.jsxs)("table",{id:"job runs",class:"table table-sm table-bordered",children:[Object(O.jsx)("thead",{class:"thead-dark",children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Job Run Id"}),Object(O.jsx)("th",{children:"Step Type"}),Object(O.jsx)("th",{children:"Step Name"}),Object(O.jsx)("th",{children:"Start Time"}),Object(O.jsx)("th",{children:"Elapsed Time"}),Object(O.jsx)("th",{children:"Status"}),Object(O.jsx)("th",{children:"Properties"}),n,Object(O.jsx)("th",{children:Object(O.jsx)("button",{className:"btn btn-secondary btn-block",onClick:function(){return t.props.set_job_run_state()},children:"Back"})})]})}),Object(O.jsx)("tbody",{children:this.state.stepruns.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.job_run_id}),Object(O.jsx)("td",{children:e.step_type}),Object(O.jsx)("td",{children:e.step_name}),Object(O.jsx)("td",{children:e.start_time}),Object(O.jsx)("td",{children:e.elapsed_time}),Object(O.jsx)("td",{children:"pass"===e.state||""==e.state?Object(O.jsx)("div",{children:Object(O.jsx)("p",{className:"text-success",children:e.state})}):"started"===e.state||"running"==e.state?Object(O.jsx)("div",{children:Object(O.jsx)("p",{className:"text-warning",children:e.state})}):Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{type:"button",class:"btn btn-danger btn btn-sm","data-toggle":"modal",onClick:function(){return t.show_step_run_state_modal(e.state)},children:"Error"}),Object(O.jsx)("div",{class:"modal fade",id:"stepRunStateModal",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(O.jsx)("div",{class:"modal-dialog",role:"document",children:Object(O.jsxs)("div",{class:"modal-content",children:[Object(O.jsxs)("div",{class:"modal-header",children:[Object(O.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:"Properties "}),Object(O.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(O.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(O.jsx)("div",{class:"modal-body"}),Object(O.jsx)("div",{class:"modal-footer",children:Object(O.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})})]})}),Object(O.jsxs)("td",{children:[Object(O.jsx)("button",{type:"button",class:"btn btn-secondary btn-sm","data-toggle":"modal",onClick:function(){return t.show_modal(e.properties)},children:"Properties"}),Object(O.jsx)("div",{class:"modal fade",id:"stepRunModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(O.jsx)("div",{class:"modal-dialog",role:"document",children:Object(O.jsxs)("div",{class:"modal-content",children:[Object(O.jsxs)("div",{class:"modal-header",children:[Object(O.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:"Step Properties"}),Object(O.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(O.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(O.jsx)("div",{class:"modal-body"}),Object(O.jsx)("div",{class:"modal-footer",children:Object(O.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})})]}),Object(O.jsx)("td",{children:s.includes(e.step_type)?Object(O.jsx)("input",{type:"button",value:"Check Progress",class:"btn btn-secondary btn-sm",onClick:function(){return t.fetchEtlFlowJobById(e.step_run_id).then((function(e){var n=e.stepruns;t.setState((function(t){return{stepruns:n}}))}))}}):Object(O.jsx)("div",{})})]})}))})]})})}}]),n}(a.a.Component),g=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var s;return Object(c.a)(this,n),(s=e.call(this,t)).job_run_id="",s.filterOperation=["IN","NOT IN"],s.state={jobruns:[],filter:"",job_name:"",filter_start_date:"",filter_end_date:"",paginationValue:0,stepRun:!1,loader:!1},s.set_job_run_state=s.set_job_run_state.bind(Object(l.a)(s)),s}return Object(o.a)(n,[{key:"fetchEtlFlowJobs",value:function(){var t=Object(h.a)(j.a.mark((function t(){var e,n,s,a,r,i,c,o=this;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/api/etlflow",e=localStorage.getItem("Authorization"),n=10,s=this.state.paginationValue,a=" query { jobruns(limit: ".concat(n," , offset: ").concat(s,"){ job_run_id job_name properties state start_time elapsed_time job_type is_master}}"),void 0!==this.props.match.params.job_name?(a=" query { jobruns(limit: ".concat(n," , offset: ").concat(s,' ,filter: "IN", jobName: "').concat(this.props.match.params.job_name,'"  )\n              { job_run_id job_name  properties state start_time elapsed_time job_type is_master}}'),""!==this.state.filter_end_date&&(a=" query { jobruns(limit: ".concat(n," , offset: ").concat(s,',  startTime: "').concat(this.state.filter_start_date,'", endTime: "').concat(this.state.filter_end_date,'",filter: "IN", jobName: "').concat(this.props.match.params.job_name,'"  )\n        { job_run_id job_name  properties state start_time elapsed_time job_type is_master}}')),this.setState((function(t){return{filter:"IN",job_name:o.props.match.params.job_name}}))):a=""!==this.state.filter_end_date&&""!==this.state.filter?" query { jobruns(limit: ".concat(n," , offset: ").concat(s,',  startTime: "').concat(this.state.filter_start_date,'", endTime: "').concat(this.state.filter_end_date,'",filter: "').concat(this.state.filter,'", jobName: "').concat(this.state.job_name,'"  )\n        { job_run_id job_name  properties state start_time elapsed_time job_type is_master}}'):""!==this.state.filter_end_date?" query { jobruns(limit: ".concat(n," , offset: ").concat(s,',  startTime: "').concat(this.state.filter_start_date,'", endTime: "').concat(this.state.filter_end_date,'")\n        { job_run_id job_name  properties state start_time elapsed_time job_type is_master}}'):""!==this.state.filter&&""!==this.state.job_name?" query { jobruns(limit: ".concat(n," , offset: ").concat(s,', filter: "').concat(this.state.filter,'", jobName: "').concat(this.state.job_name,'"  )\n        { job_run_id job_name  properties state start_time elapsed_time job_type is_master}}'):""===this.state.filter&&""!==this.state.job_name?" query { jobruns(limit: ".concat(n," , offset: ").concat(s,' ,filter: "IN", jobName: "').concat(this.state.job_name,'"  )\n        { job_run_id job_name  properties state start_time elapsed_time job_type is_master}}'):" query { jobruns(limit: ".concat(n," , offset: ").concat(s,"){ job_run_id job_name  properties state start_time elapsed_time job_type is_master}}"),this.setState((function(t){return{loader:!0}})),t.next=9,fetch("/api/etlflow",{method:"POST",headers:{content_type:"applcation/json",Authorization:e},body:JSON.stringify({query:a})});case 9:return 403===(r=t.sent).status&&localStorage.removeItem("Authorization"),t.next=13,r.json();case 13:return i=t.sent,c=i.data,this.setState((function(t){return{loader:!1}})),t.abrupt("return",c);case 17:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setInterval",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){var t=this;this.timerID=setInterval((function(){return t.fetchEtlFlowJobs()}),1e6)}))},{key:"componentDidMount",value:function(){this.set_jobruns(),this.setInterval()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"set_job_run_state",value:function(){this.setState((function(t){return{stepRun:!t.stepRun}}))}},{key:"set_jobruns",value:function(){var t=this;this.fetchEtlFlowJobs().then((function(e){var n=e.jobruns;t.setState((function(t){return{jobruns:n}}))}))}},{key:"set_job_name",value:function(){this.setState((function(t){return{job_name:document.getElementById("exampleDataList").value}}))}},{key:"set_filter_start_date",value:function(){this.setState((function(t){return{filter_start_date:document.getElementById("start_date").value}}))}},{key:"set_filter_end_date",value:function(){this.setState((function(t){return{filter_end_date:document.getElementById("end_date").value}}))}},{key:"show_modal",value:function(t){var e="",n=JSON.parse(t);for(var s in n)e+="<b>"+s+"</b>="+n[s]+"<br></br>",f()("#jobRunModal .modal-body").html(e),f()("#jobRunModal").modal()}},{key:"set_initial_state",value:function(){var t=Object(h.a)(j.a.mark((function t(){var e=this;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.setState((function(t){return{filter:"",job_name:"",filter_start_date:"",filter_end_date:"",paginationValue:0}}),(function(){return e.set_jobruns()}));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"show_job_run_state_modal",value:function(t){f()("#jobRunStateModal .modal-body").html(t),f()("#jobRunStateModal").modal()}},{key:"render",value:function(){var t=this,e="",n="",s="",a="",r="",i="";return e=0===this.state.paginationValue?Object(O.jsx)("li",{class:"page-item disabled",children:Object(O.jsx)("input",{type:"button",value:"Previous",class:"page-link btn btn-secondary btn-sm"})}):Object(O.jsx)("li",{class:"page-item",children:Object(O.jsx)("input",{type:"button",value:"Previous",class:"page-link btn btn-secondary btn-sm",onClick:function(){t.setState((function(e){return{paginationValue:t.state.paginationValue-10}})),t.fetchEtlFlowJobs(t.state.paginationValue-10).then((function(e){var n=e.jobruns;t.setState((function(t){return{jobruns:n}}))}))}})}),n=""!==this.state.filter?this.state.filter:"Add Filter",s=""!==this.state.job_name?this.state.job_name:"Type to search",a=""!==this.state.filter_start_date?this.state.filter_start_date:"Start Date",r=""!==this.state.filter_end_date?this.state.filter_end_date:"End Date",void 0!==this.props.match.params.job_name&&(i=Object(O.jsx)("button",{class:"btn btn btn-sm",type:"button ",onClick:function(){t.props.history.push("/")},children:"Back"})),this.state.stepRun?Object(O.jsx)("div",{children:Object(O.jsx)(y,{job_run_id:this.job_run_id,set_job_run_state:this.set_job_run_state})}):this.state.loader?Object(O.jsx)("div",{children:Object(O.jsx)(v,{job_run_id:this.job_run_id,set_job_run_state:this.set_job_run_state})}):Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsx)("h3",{children:this.state.loader}),Object(O.jsxs)("ul",{class:"pagination justify-content-center",children:[Object(O.jsxs)("div",{class:"dropdown",children:[Object(O.jsx)("button",{class:"btn btn-light dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:n}),Object(O.jsx)("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenuButton",children:this.filterOperation.map((function(e){return Object(O.jsx)("a",{class:"dropdown-item",children:Object(O.jsxs)("button",{class:"btn btn btn-sm",type:"button ",onClick:function(){t.setState((function(t){return{filter:e}}))},children:[" ",e," "]})})}))})]}),Object(O.jsxs)("div",{className:"form-inline float-right",children:[Object(O.jsx)("div",{className:"mb-1",children:Object(O.jsx)("input",{type:"text",className:"form-control input-sm",list:"datalistOptions",id:"exampleDataList",placeholder:s,onChange:function(e){return t.set_job_name()}})}),Object(O.jsx)("datalist",{id:"datalistOptions",children:this.props.jobs.map((function(t){return Object(O.jsx)("option",{value:t.name})}))})]}),Object(O.jsxs)("div",{class:"form-inline float-right",children:[Object(O.jsx)("div",{class:"mb-1",children:Object(O.jsx)("input",{type:"date",className:"form-control input-sm",placeholder:a,id:"start_date",onChange:function(e){return t.set_filter_start_date()}})}),Object(O.jsx)("div",{class:"mb-1",children:Object(O.jsx)("input",{type:"date",className:"form-control input-sm",placeholder:r,id:"end_date",onChange:function(e){return t.set_filter_end_date()}})})]}),Object(O.jsx)("button",{class:"btn btn btn-sm",type:"button ",onClick:function(){t.set_initial_state()},children:"Clear"}),Object(O.jsx)("button",{class:"btn btn btn-sm",type:"button ",onClick:function(){t.set_jobruns()},children:"Refresh"}),i]}),Object(O.jsxs)("table",{id:"jobruns",class:"table table-sm table-bordered",children:[Object(O.jsx)("thead",{class:"thead-dark",children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Job Name"}),Object(O.jsx)("th",{children:"Job Type"}),Object(O.jsx)("th",{children:"Job Start Time"}),Object(O.jsx)("th",{children:"Elapsed Time"}),Object(O.jsx)("th",{children:"Job Status"}),Object(O.jsx)("th",{children:"Job Properties"}),Object(O.jsx)("th",{children:"Step Properties"})]})}),Object(O.jsx)("tbody",{children:this.state.jobruns.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.job_name}),Object(O.jsx)("td",{children:e.job_type}),Object(O.jsx)("td",{children:e.start_time}),Object(O.jsx)("td",{children:e.elapsed_time}),Object(O.jsx)("td",{children:"pass"===e.state||""==e.state?Object(O.jsx)("div",{children:Object(O.jsx)("p",{className:"text-success",children:e.state})}):"started"===e.state||"running"==e.state?Object(O.jsx)("div",{children:Object(O.jsx)("p",{className:"text-warning",children:e.state})}):Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{type:"button",class:"btn btn-danger btn btn-sm","data-toggle":"modal",onClick:function(){return t.show_job_run_state_modal(e.state)},children:"Error"}),Object(O.jsx)("div",{class:"modal fade",id:"jobRunStateModal",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(O.jsx)("div",{class:"modal-dialog",role:"document",children:Object(O.jsxs)("div",{class:"modal-content",children:[Object(O.jsxs)("div",{class:"modal-header",children:[Object(O.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:"Properties "}),Object(O.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(O.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(O.jsx)("div",{class:"modal-body"}),Object(O.jsx)("div",{class:"modal-footer",children:Object(O.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})})]})}),Object(O.jsxs)("td",{children:[Object(O.jsx)("button",{type:"button",class:"btn btn-secondary btn-sm","data-toggle":"modal",onClick:function(){return t.show_modal(e.properties)},children:"Properties"}),Object(O.jsx)("div",{class:"modal fade",id:"jobRunModal",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(O.jsx)("div",{class:"modal-dialog",role:"document",children:Object(O.jsxs)("div",{class:"modal-content",children:[Object(O.jsxs)("div",{class:"modal-header",children:[Object(O.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:"Properties "}),Object(O.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(O.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(O.jsx)("div",{class:"modal-body"}),Object(O.jsx)("div",{class:"modal-footer",children:Object(O.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})})]}),Object(O.jsx)("td",{children:Object(O.jsx)("input",{type:"button",value:"Step Properties",class:"btn btn-secondary btn-sm",onClick:function(){t.set_job_run_state(),t.job_run_id=e.job_run_id}})})]})}))})]}),Object(O.jsx)("nav",{"aria-label":"Page navigation example",children:Object(O.jsxs)("ul",{class:"pagination justify-content-center",children:[e,Object(O.jsx)("li",{class:"page-item",children:Object(O.jsx)("input",{type:"button",value:"Next",class:"page-link btn btn-secondary btn-sm",onClick:function(){t.setState((function(e){return{paginationValue:t.state.paginationValue+10}})),t.fetchEtlFlowJobs(t.state.paginationValue+10).then((function(e){var n=e.jobruns;t.setState((function(t){return{jobruns:n}}))}))}})})]})})]})}}]),n}(a.a.Component),S=Object(m.f)(g),k=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var s;return Object(c.a)(this,n),(s=e.call(this,t)).state={metrics:[],loader:!1},s}return Object(o.a)(n,[{key:"fetchEtlFlowMetrics",value:function(){var t=Object(h.a)(j.a.mark((function t(){var e,n,s,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/api/etlflow",e=localStorage.getItem("Authorization"),this.setState((function(t){return{loader:!0}})),t.next=5,fetch("/api/etlflow",{method:"POST",headers:{content_type:"applcation/json",Authorization:e},body:JSON.stringify({query:"\n          query {\n            metrics {\n                active_jobs\n                active_subscribers\n                etl_jobs\n                cron_jobs\n                used_memory\n                free_memory\n                total_memory\n                max_memory\n                build_time\n              }\n           }\n          "})});case 5:return 403===(n=t.sent).status&&localStorage.removeItem("Authorization"),t.next=9,n.json();case 9:return s=t.sent,a=s.data,this.setState((function(t){return{loader:!1}})),t.abrupt("return",a);case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var t=this;this.fetchEtlFlowMetrics().then((function(e){var n=e.metrics;t.setState((function(t){return{metrics:n}}))}))}},{key:"render",value:function(){var t=this;return this.state.loader?Object(O.jsx)("div",{children:Object(O.jsx)(v,{job_run_id:this.job_run_id,set_job_run_state:this.set_job_run_state})}):Object(O.jsxs)("div",{class:"container",children:[Object(O.jsx)("ul",{class:"pagination justify-content-center",children:Object(O.jsx)("button",{class:"btn btn btn-sm",type:"button ",onClick:function(){t.fetchEtlFlowMetrics().then((function(e){var n=e.metrics;t.setState((function(t){return{metrics:n}}))}))},children:"Refresh"})}),Object(O.jsxs)("ul",{class:"list-group ",children:[Object(O.jsxs)("li",{class:"list-group-item d-flex justify-content-between align-items-center",children:[Object(O.jsx)("b",{children:"Active Jobs"}),Object(O.jsx)("span",{class:"badge badge-secondary badge-pill",children:this.state.metrics.active_jobs})]}),Object(O.jsxs)("li",{class:"list-group-item d-flex justify-content-between align-items-center",children:[Object(O.jsx)("b",{children:"Active Subscribers"}),Object(O.jsx)("span",{class:"badge badge-secondary badge-pill",children:this.state.metrics.active_subscribers})]}),Object(O.jsxs)("li",{class:"list-group-item d-flex justify-content-between align-items-center",children:[Object(O.jsx)("b",{children:"Etl Jobs"}),Object(O.jsx)("span",{class:"badge badge-secondary badge-pill",children:this.state.metrics.etl_jobs})]}),Object(O.jsxs)("li",{class:"list-group-item d-flex justify-content-between align-items-center",children:[Object(O.jsx)("b",{children:"Cron Jobs"}),Object(O.jsx)("span",{class:"badge badge-secondary badge-pill",children:this.state.metrics.cron_jobs})]}),Object(O.jsxs)("li",{class:"list-group-item d-flex justify-content-between align-items-center",children:[Object(O.jsx)("b",{children:"Used Memory"}),Object(O.jsx)("span",{class:"badge badge-secondary badge-pill",children:this.state.metrics.used_memory})]}),Object(O.jsxs)("li",{class:"list-group-item d-flex justify-content-between align-items-center",children:[Object(O.jsx)("b",{children:"Free Memory"}),Object(O.jsx)("span",{class:"badge badge-secondary badge-pill",children:this.state.metrics.free_memory})]}),Object(O.jsxs)("li",{class:"list-group-item d-flex justify-content-between align-items-center",children:[Object(O.jsx)("b",{children:"Total Memory"}),Object(O.jsx)("span",{class:"badge badge-secondary badge-pill",children:this.state.metrics.total_memory})]}),Object(O.jsxs)("li",{class:"list-group-item d-flex justify-content-between align-items-center",children:[Object(O.jsx)("b",{children:"Max Memory"}),Object(O.jsx)("span",{class:"badge badge-secondary badge-pill",children:this.state.metrics.max_memory})]}),Object(O.jsxs)("li",{class:"list-group-item d-flex justify-content-between align-items-center",children:[Object(O.jsx)("b",{children:"Build Time"}),Object(O.jsx)("span",{class:"badge badge-secondary badge-pill",children:this.state.metrics.build_time})]})]})]})}}]),n}(a.a.Component),w=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var s;return Object(c.a)(this,n),(s=e.call(this,t)).state={queueStats:[],loader:!1},s}return Object(o.a)(n,[{key:"fetchEtlFlowQueueStats",value:function(){var t=Object(h.a)(j.a.mark((function t(){var e,n,s,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/api/etlflow",e=localStorage.getItem("Authorization"),this.setState((function(t){return{loader:!0}})),t.next=5,fetch("/api/etlflow",{method:"POST",headers:{content_type:"applcation/json",Authorization:e},body:JSON.stringify({query:"\n          query {\n            queueStats {\n              name \n              details\n              submitted_from\n              execution_time\n              }\n           }\n          "})});case 5:return 403===(n=t.sent).status&&localStorage.removeItem("Authorization"),t.next=9,n.json();case 9:return s=t.sent,a=s.data,this.setState((function(t){return{loader:!1}})),t.abrupt("return",a);case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var t=this;this.fetchEtlFlowQueueStats().then((function(e){var n=e.queueStats;t.setState((function(t){return{queueStats:n}}))}))}},{key:"show_modal",value:function(t){var e="",n=JSON.parse(t);for(var s in n)e+="<b>"+s+"</b>="+n[s]+"<br></br>",f()("#queueStats .modal-body").html(e),f()("#queueStats").modal()}},{key:"render",value:function(){var t=this;return this.state.loader?Object(O.jsx)("div",{children:Object(O.jsx)(v,{job_run_id:this.job_run_id,set_job_run_state:this.set_job_run_state})}):Object(O.jsxs)("div",{class:"container",children:[Object(O.jsx)("ul",{class:"pagination justify-content-center",children:Object(O.jsx)("button",{class:"btn btn btn-sm",type:"button ",onClick:function(){t.fetchEtlFlowQueueStats().then((function(e){var n=e.queueStats;t.setState((function(t){return{queueStats:n}}))}))},children:"Refresh"})}),Object(O.jsxs)("table",{id:"joblist",class:"table table-sm table-bordered",children:[Object(O.jsx)("thead",{class:"thead-dark",children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Job Name"}),Object(O.jsx)("th",{children:"Submitted From"}),Object(O.jsx)("th",{children:"Execution Time"}),Object(O.jsx)("th",{children:"Details"})]})}),Object(O.jsx)("tbody",{children:this.state.queueStats.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.name}),Object(O.jsx)("td",{children:e.submitted_from}),Object(O.jsx)("td",{children:e.execution_time}),Object(O.jsxs)("td",{children:[Object(O.jsx)("button",{type:"button",class:"btn btn-secondary btn-sm","data-toggle":"modal",onClick:function(){return t.show_modal(e.details)},children:"Stats"}),Object(O.jsx)("div",{class:"modal fade",id:"queueStats",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(O.jsx)("div",{class:"modal-dialog",role:"document",children:Object(O.jsxs)("div",{class:"modal-content",children:[Object(O.jsxs)("div",{class:"modal-header",children:[Object(O.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:"Properties "}),Object(O.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(O.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(O.jsx)("div",{class:"modal-body"}),Object(O.jsx)("div",{class:"modal-footer",children:Object(O.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})})]})]})}))})]})]})}}]),n}(a.a.Component),N=Object(m.f)(w),J=n(28),C=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var s;return Object(c.a)(this,n),(s=e.call(this,t)).state={currentime:""},s}return Object(o.a)(n,[{key:"fetchEtlFlowJobs",value:function(){var t=Object(h.a)(j.a.mark((function t(){var e,n,s,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/api/etlflow",e=localStorage.getItem("Authorization"),t.next=4,fetch("/api/etlflow",{method:"POST",headers:{content_type:"applcation/json",Authorization:e},body:JSON.stringify({query:"\n          query {\n            currentime {\n                current_time\n             }\n           }\n          "})});case 4:return n=t.sent,t.next=7,n.json();case 7:return s=t.sent,a=s.data,t.abrupt("return",a);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var t=this;this.fetchEtlFlowJobs().then((function(e){var n=e.currentime;t.setState((function(t){return{currentime:n.current_time}}))}))}},{key:"render",value:function(){return Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)("a",{className:"nav-link disabled",children:this.state.currentime})})}}]),n}(a.a.Component),I=new URL("/ws/etlflow",window.location.href);I.protocol=I.protocol.replace("http","ws");var M=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var s;Object(c.a)(this,n),(s=e.call(this,t)).addMessage=function(t){return s.setState((function(e){return{messages:t}}))};return s.client=new WebSocket(I+"/"+localStorage.getItem("Authorization")),s.state={messages:""},s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.client.onopen=function(){console.log(" ws connected")},this.client.onmessage=function(e){var n=e.data;t.addMessage(n)}}},{key:"render",value:function(){return Object(O.jsx)("div",{class:"container",children:Object(O.jsx)("ul",{class:"list-group ",children:this.state.messages.split("</br>").map((function(t){return Object(O.jsxs)("li",{class:"list-group-item d-flex justify-content-between align-items-center",children:[Object(O.jsx)("b",{children:t.split(":")[0]}),Object(O.jsx)("span",{class:"badge badge-secondary badge-pill",children:t.split(":")[1]})]})}))})})}}]),n}(a.a.Component),E=n(20),L=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var s;return Object(c.a)(this,n),(s=e.call(this,t)).get_etl_jobs=function(){s.fetchEtlFlowJobs().then((function(t){var e=t.jobs;s.setState((function(t){return{jobs:e}}))}))},s.state={jobs:[],metrics:[],user:"",loader:!1},s}return Object(o.a)(n,[{key:"fetchEtlFlowJobs",value:function(){var t=Object(h.a)(j.a.mark((function t(){var e,n,s,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/api/etlflow",e=localStorage.getItem("Authorization"),this.setState((function(t){return{loader:!0}})),t.next=5,fetch("/api/etlflow",{method:"POST",headers:{content_type:"applcation/json",Authorization:e},body:JSON.stringify({query:"\n          query {\n              jobs {\n                name \n                schedule\n                props {key value} \n                nextSchedule \n                schduleRemainingTime \n                is_active \n                max_active_runs\n             }\n           }\n          "})});case 5:return 403===(n=t.sent).status&&this.remove_token(),t.next=9,n.json();case 9:return s=t.sent,a=s.data,this.setState((function(t){return{loader:!1}})),t.abrupt("return",a);case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setInterval",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){var t=this;this.timerID=setInterval((function(){return t.fetchEtlFlowJobs()}),1e6)}))},{key:"fetchEtlFlowUserDetails",value:function(){var t=localStorage.getItem("Authorization"),e=JSON.parse(JSON.stringify(Object(J.a)(t)));this.setState({user:e.user})}},{key:"componentDidMount",value:function(){var t=this;this.fetchEtlFlowJobs().then((function(e){var n=e.jobs;t.setState((function(t){return{jobs:n}}))})),this.fetchEtlFlowUserDetails()}},{key:"remove_token",value:function(){localStorage.removeItem("Authorization"),this.props.doLogout("")}},{key:"render",value:function(){var t=this;return this.state.loader?Object(O.jsx)("div",{children:Object(O.jsx)(v,{job_run_id:this.job_run_id,set_job_run_state:this.set_job_run_state})}):Object(O.jsxs)(E.a,{children:[Object(O.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark mb-3",children:[Object(O.jsxs)("ul",{className:"nav navbar-nav w-100",children:[Object(O.jsxs)("li",{className:"nav-item nav-link",children:[Object(O.jsx)(E.b,{to:"/",children:"Jobs"})," "]}),Object(O.jsxs)("li",{className:"nav-item nav-link",children:[Object(O.jsx)(E.b,{to:"/JobRuns",children:"Job Runs"})," "]}),Object(O.jsxs)("li",{className:"nav-item nav-link",children:[Object(O.jsx)(E.b,{to:"/getInfo",children:"Metrics"})," "]}),Object(O.jsxs)("li",{className:"nav-item nav-link",children:[Object(O.jsx)(E.b,{to:"/getQueueStats",children:"Job Logs"})," "]}),Object(O.jsxs)("li",{className:"nav-item nav-link",children:[Object(O.jsx)(E.b,{to:"/getMemoryInfo",children:"Memory Info"})," "]})]}),Object(O.jsx)("div",{class:"navbar-collapse collapse w-100 order-3 dual-collapse2",children:Object(O.jsxs)("ul",{class:"nav justify-content-end w-100",children:[Object(O.jsx)(C,{}),Object(O.jsxs)("li",{class:"nav-item dropdown",children:[Object(O.jsx)("a",{class:"nav-link  dropdown-toggle",href:"#","data-toggle":"dropdown",children:this.state.user}),Object(O.jsxs)("ul",{class:"dropdown-menu",children:[Object(O.jsx)("li",{children:Object(O.jsx)("a",{class:"dropdown-item",href:"https://github.com/tharwaninitin/etlflow",children:"Git Hub"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{class:"dropdown-item",href:"https://tharwaninitin.github.io/etlflow/site/",children:"Docs"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{class:"dropdown-item",children:Object(O.jsx)("input",{type:"button",class:"btn btn-secondary btn-sm",value:"LogOut",onClick:function(){return t.remove_token()}})})})]})]})]})})]}),Object(O.jsxs)(m.c,{children:[Object(O.jsx)(m.a,{exact:!0,path:"/",component:function(){return Object(O.jsx)(x,{jobs:t.state.jobs,get_etl_jobs:t.get_etl_jobs})}}),Object(O.jsx)(m.a,{path:"/JobRuns/:job_name?",component:function(){return Object(O.jsx)(S,{jobs:t.state.jobs})}}),Object(O.jsx)(m.a,{path:"/getInfo",component:function(){return Object(O.jsx)(k,{})}}),Object(O.jsx)(m.a,{path:"/getQueueStats",component:function(){return Object(O.jsx)(N,{})}}),Object(O.jsx)(m.a,{path:"/getMemoryInfo",component:function(){return Object(O.jsx)(M,{})}})]})]})}}]),n}(a.a.Component),A=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var s;return Object(c.a)(this,n),(s=e.call(this,t)).state={user_name:"",password:"",token:"",login:[]},s.login_validation=s.login_validation.bind(Object(l.a)(s)),s.set_login_user_name=s.set_login_user_name.bind(Object(l.a)(s)),s.set_login_password=s.set_login_password.bind(Object(l.a)(s)),s}return Object(o.a)(n,[{key:"fetchLoginDetails",value:function(){var t=Object(h.a)(j.a.mark((function t(e,n){var s,a,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/api/login",t.next=3,fetch("/api/login",{method:"POST",headers:{content_type:"applcation/json"},body:JSON.stringify({query:'\n          mutation {\n            login (user_name: "'.concat(e,'", password: "').concat(n,'") {\n                message \n                token\n             }\n           }\n          ')})});case 3:return s=t.sent,t.next=6,s.json();case 6:return a=t.sent,r=a.data,t.abrupt("return",r);case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"login_validation",value:function(){var t=this;this.fetchLoginDetails(this.state.user_name,this.state.password).then((function(e){var n=e.login,s=JSON.parse(JSON.stringify(n)).token;""!==s?(localStorage.setItem("Authorization",s),t.props.doLogin(s),t.setState((function(t){return{token:s}}))):alert("Invalid User")}))}},{key:"set_login_user_name",value:function(){this.setState((function(t){return{user_name:document.getElementById("user_name").value}}))}},{key:"set_login_password",value:function(){this.setState((function(t){return{password:document.getElementById("password").value}}))}},{key:"render",value:function(){var t=this;return Object(O.jsxs)("div",{className:"main",align:"center",children:[Object(O.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark mb-3",children:Object(O.jsx)("ul",{className:"nav navbar-nav w-50",children:Object(O.jsx)("li",{className:"nav-item nav-link",children:"EtlFlow"})})}),Object(O.jsx)("div",{className:"col-md-3",children:Object(O.jsx)("div",{className:"login-form ",children:Object(O.jsxs)("form",{id:"form_login",className:"text-center border border-dark p-5",onSubmit:function(e){t.login_validation(),e.preventDefault()},children:[Object(O.jsx)("p",{className:"h4 mb-4",children:"EtlFlow Login"}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("input",{type:"text",className:"form-control","aria-describedby":"UsernameHelp",placeholder:"Username",id:"user_name",onChange:function(e){return t.set_login_user_name()}})}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("input",{type:"password",className:"form-control","aria-describedby":"PasswordHelp",placeholder:"Password",id:"password",onChange:function(e){return t.set_login_password()}})}),Object(O.jsx)("button",{type:"submit",className:"btn btn-secondary btn-block",children:"Submit"})]})})})]})}}]),n}(a.a.Component),q=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var s;return Object(c.a)(this,n),(s=e.call(this,t)).state={token:""},s.doLogin=s.doLogin.bind(Object(l.a)(s)),s.doLogout=s.doLogout.bind(Object(l.a)(s)),s}return Object(o.a)(n,[{key:"doLogin",value:function(t,e){this.setState({token:t})}},{key:"doLogout",value:function(t){this.setState({token:""})}},{key:"render",value:function(){return null===localStorage.getItem("Authorization")?Object(O.jsx)("div",{children:Object(O.jsx)(A,{doLogin:this.doLogin})}):Object(O.jsx)("div",{children:Object(O.jsx)(L,{doLogout:this.doLogin})})}}]),n}(a.a.Component);window.login_url="/api/login",window.url="/api/etlflow",i.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(q,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.29a1646e.chunk.js.map